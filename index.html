<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- bootstrap 5.3 -->
  <link href="assets/lib/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <!-- selectize js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js"
    integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css"
    integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />
  <link rel="stylesheet" href="./assets/style.css">
  <link rel="stylesheet" href="./assets/print.css">
  <link rel="shortcut icon" href="favicon.png" type="image/png">
  <!-- Exportar a excel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"
    integrity="sha512-r22gChDnGvBylk90+2e/ycr3RVrDi8DIOkIGNhJlKfuyQM4tIRAI062MaV8sfjQKYVGjOBaZBOA87z+IhZE9DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- Estilos excel -->
  <script src="libs/xlsx_style.js"></script>
  <title>Inapark - Control de estacionamientos</title>
</head>

<body>

  <!-- navigation -->
  <nav class="navbar p-0">
    <div class="container justify-content-center">
      <a class="navbar-brand" href="#">
        <img src="./assets/inacap.ico" alt="Bootstrap" width="65" height="65" class="">
      </a>
      <div class="fs-5 fw-bold">
        Control de Estacionamiento
      </div>
      <div class="collapse navbar-collapse" id="main-navbar">
        <div class="navbar-nav ms-auto mb-2 mb-lg-0">
          <!-- <a href="propietarios.html" class="nav-link" target="_parent">Propietarios</a> -->
        </div>
      </div>
    </div>
  </nav>
  <!-- end navigation -->

  <!-- Bot√≥n para abrir sidebar -->
  <button class="btn btn-danger m-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu"
    aria-controls="sidebarMenu">
    <i class="fa-solid fa-bars"></i>
  </button>

  <!-- SIDEBAR (Offcanvas) -->
  <div class="offcanvas offcanvas-start shadow" tabindex="-1" id="sidebarMenu" aria-labelledby="sidebarMenuLabel">
    <div class="offcanvas-header bg-danger text-white">
      <h5 class="offcanvas-title" id="sidebarMenuLabel">
        <i class="fa-solid fa-user-shield"></i> Panel
      </h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body d-flex flex-column gap-3">
      <!-- Links de navegaci√≥n -->
      <a href="#" class="btn btn-outline-danger w-100 text-start btn_modal" id="btn_modal">
        <i class="fa-solid fa-car-side"></i> Registrar Ingreso
      </a>
      <a href="#" class="btn btn-outline-danger w-100 text-start">
        <i class="fa-solid fa-file-excel"></i> Exportar Excel
      </a>
      <a href="#" class="btn btn-outline-danger w-100 text-start">
        <i class="fa-solid fa-rotate"></i> Resetear
      </a>

      <hr>

      <!-- Secci√≥n extra -->
      <h6 class="text-muted">Opciones</h6>
      <a href="#" class="btn btn-outline-secondary w-100 text-start" id="btn_config">
        <i class="fa-solid fa-gear"></i> Configuraci√≥n
      </a>
      <a href="#" class="btn btn-outline-secondary w-100 text-start" id="btn_help">
        <i class="fa-solid fa-circle-info"></i> Ayuda
      </a>
    </div>
  </div>

  <div class="container my-5" id="main_container">
    <h1 align="center" class="h3"></h1>
    <div class="d-flex justify-content-between border p-2" id="group-btn-add-and-reset">
      <button class="btn btn-danger d-flex gap-2 btn_modal">
        Nuevo
        <i class="fa fa-plus-circle fs-4 align-self-center" aria-hidden="true"></i>
      </button>
      <button class="btn btn-success ms-auto me-3" id="btn_excel">Exportar a Excel</button>
      <button class="btn btn-secondary" id="btn_reset">Resetear</button>
    </div>
    <table class="table my-4 table-bordered table-hover landscape">
      <thead class="table-danger">
        <!-- encabezados -->
        <!-- <th>Acciones</th> -->
        <th class="fit"><i class="fa-solid fa-user"></i> NOMBRE</th>
        <th class="fit"><i class="fa-solid fa-id-card-clip"></i> RUT</th>
        <th class="text-center fit"><i class="fa-solid fa-car"></i> PATENTE <span class="fw-light">|</span> COLOR</th>
        <th class="fit"><i class="fa-solid fa-id-badge"></i> MOTIVO</th>
        <th class="fit"><i class="fa-solid fa-clock"></i> INGRESO</th>
        <th class="fit"><i class="fa-solid fa-stopwatch"></i> HASTA</th>
        <th class="fit"><i class="fa-solid fa-hourglass-start"></i> RESTANTE</th>
      </thead>
      <tbody id="tbody-visitas">
      </tbody>
    </table>

    <!-- MODAL -->
    <dialog id="modal" class="w-100" style="z-index: 1;">
      <div class="row justify-content-center">
        <div class="col-12 col-md-6 border card p-3">
          <div class="mb-3">
            <button id="btn_popup" onclick="{modal.close(); document.getElementById('visita-form').reset()}"
              class="btn btn-danger" style="top: -30px; z-index: 3">&times;</button>
            <h3 class="text-secondary text-capitalize text-center">nuevo ingreso</h3>
          </div>
          <form id="visita-form">
            <div class="d-flex gap-2">
              <div class="input-group mb-3 rounded shadow-sm">
                <label class="input-group-text bg-danger text-light" for="rut">RUT</label>
                <input type="text" id="rut" name="rut" class="form-control" placeholder="Ej: 12.345.678-9" required>
              </div>
              <div class="input-group mb-3 rounded shadow-sm">
                <label class="input-group-text bg-danger text-light" for="nombre">Nombre</label>
                <input type="text" id="nombre" name="nombre" class="form-control text-capitalize"
                  placeholder="Ej: Juan P√©rez" required>
              </div>
            </div>

            <div class="d-flex gap-2">
              <div class="input-group mb-3 rounded shadow-sm">
                <label class="input-group-text bg-danger text-light" for="tipo_vehiculo">Tipo veh√≠culo</label>
                <select id="tipo_vehiculo" name="tipoVehiculo" class="form-control">
                  <option value="auto">üöò Auto</option>
                  <option value="moto">üèçÔ∏è Moto</option>
                </select>
              </div>

              <div class="input-group mb-3 rounded shadow-sm">
                <label class="input-group-text bg-danger text-light" for="matricula">Patente</label>
                <input type="text" id="matricula" name="matricula" class="form-control text-uppercase"
                  placeholder="Ej: DC8L78">
              </div>
            </div>
            <div id="min-parking" class="d-flex flex-column justify-content-center align-items-center mb-2"></div>
            <div class="d-flex gap-2 justify-content-center">
              <!-- COLOR VEHICULO -->
              <div class="input-group mb-3 rounded shadow-sm w-25">
                <label class="input-group-text bg-danger text-light" for="color">Color</label>
                <input type="color" id="color" name="color" list="colores" class="form-control form-control-color">
              </div>
              <!-- DISPONIBILIDAD -->
            <div class="input-group mb-3 w-25">
              <input type="text" class="form-control" placeholder="N¬∞ est... Ej: 15" aria-label="Recipient‚Äôs username" aria-describedby="button-addon2">
              <button class="btn btn-danger" type="button" id="btn-show-matrix">Ver espacios</button>
            </div>
            </div>

            <div class="input-group mb-3 rounded shadow-sm">
              <label class="input-group-text bg-danger text-light" for="motivo">Motivo ingreso</label>
              <select id="motivo" name="motivo" class="form-control">
                <option value="estudiante">Estudiante</option>
                <option value="academico">Acad√©mico</option>
                <option value="aseo">Aseo</option>
                <option value="otro">Otro</option>
              </select>
            </div>

            <div class="input-group mb-3 rounded shadow-sm">
              <label class="input-group-text bg-danger text-light" for="ingreso">Ingreso</label>
              <input type="datetime-local" id="ingreso" name="ingreso" class="form-control">
            </div>

            <button type="submit" class="btn btn-success">Agregar</button>
          </form>

        </div>
      </div>
    </dialog>
    <!-- END MODAL -->

    <datalist id="colores">
      <!-- rojos -->
      <option>#CB4335</option>
      <option>#ff0000</option>
      <option>#FDFEFE</option>
      <option>#E67E22</option>
      <!-- blancos -->
      <option>#FDFEFE</option>
      <option>#0000ff</option>
      <option>#ffff00</option>
      <!-- verdes -->
      <option>#A2D9CE</option>
      <option>#52BE80</option>
      <option>#27AE60</option>
      <option>#82E0AA</option>
      <!-- oscuros -->
      <option>#444444</option>
      <option>#666666</option>
      <option>#AAAAAA</option>
    </datalist>

    <h2 class="text-center mt-3">Disponibilidad estacionamientos INAPARK</h2>
    <div id="parking" class="bg-gradient rounded mx-auto p-5 border border-2 border-secondary"
      style="width: fit-content; background-color: #fad7db;"></div>
  </div>


  <!-- FONT AWESOME -->
  <script src="https://kit.fontawesome.com/6b8f0c7049.js" crossorigin="anonymous"></script>
  <!-- JS BOOTSTRAP -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"></script>
  <script src="./libs/filesaver.js"></script>
  <script src="./libs/sweetalert2.js"></script>
  <script src="./App.js" type="module"></script>
</body>

</html>